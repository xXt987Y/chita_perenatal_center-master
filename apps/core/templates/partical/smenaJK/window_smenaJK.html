<style>
    .window_smenaJK .jqx-tabs-headerWrapper {
        display: none;
    }

    .window_smenaJK .jqx-window-header {
        height: 16px;
        padding: 7px;
    }

    .window_smenaJK .FixP label {

        width: auto;

    }


    .window_smenaJK p {
        margin: 1px 0 1px 0;
        background-color: #dee0e2;
        float: left;
        width: 100%;
        display: inline-flex;
    }

    .window_smenaJK label {
        margin: 7px 5px 7px 0;
        width: 50%;
        float: left;
        text-align: right;
        height: auto;
    }

    .window_smenaJK select {
        margin: 4px 3px 4px 3px;
        width: 250px;
        height: 20px;
        outline: none;
        border: 1px solid transparent;
        border-radius: 4px;
    }

    .window_smenaJK input [type="text"] {
        width: 245px !important;
    }

    input[type="date" i] {
        width: 250px !important;
        margin: 4px 3px 4px 3px;
        outline: none;
        border: 1px solid transparent;
        border-radius: 4px
    }

    .window_smenaJK input[type="checkbox"] {
        width: 16px;
        height: 16px;
        margin: 7px 5px 7px 0;
        opacity: 1;
        background: -webkit-gradient(linear, 0 0, 0 100%, from(#f8f8f8), to(#eaeaea));
        color: #333333;
        text-shadow: 0 1px 1px rgb(255 255 255);
        border-radius: 4px;
        font-family: Verdana, Arial, sans-serif;
        border: 1px solid transparent;
        outline: none;
    }


    .window_smenaJK .default {
        align-items: center;
        margin: 1px 0 1px 0;
        background-color: #dee0e2;
        float: left;
        width: 100%;
        display: inline-flex;
    }

    .window_smenaJK h3 {
        font-style: italic;
        text-align: center;
        margin: 0;
    }

    .window_smenaJK  .jqx-tabs-content-element {
        overflow: hidden;
    }


</style>

<div class="window_smenaJK">
    <div style="overflow: hidden; padding: 0;" class="tab_smenaJK">
 <ul>
            <li></li>
        </ul>
        <div>
{#            {% include 'partical/smenaJK/../../beremennya/beremennaya_tabs/zaprosNaPerevod/tabliza_zapros_na_perevod.html' %}</div>#}
    </div>
</div>




<script>

    class WindowSmenaJK {
        constructor($window_smenaJK, $tab, $btn_open_window_smenaJK) {
            let self = this;
            this.$window = $window_smenaJK;
            this.$tab = $tab;
            this.$btn_open_window = $btn_open_window_smenaJK;
            this.$window.jqxWindow({
                position: {x: '15%', y: '10%'},
                maxHeight: 1000,
                maxWidth: 2200,
                minHeight: 400,
                minWidth: 700,
                theme: 'arctic',
                height: 500,
                width: 1200,
                title: 'Смена ЖК',
                autoOpen: false,
                resizable: false,
                draggable: true,
                initContent: function () {
                    $(self.$tab).jqxTabs({
                        height: 'calc(100% -24px)',
                        width: '100%',
                        theme: 'arctic',
                    });
                }
            });

            this.on_close();
        }

        {#       open2(id) {#}
        {#    this.$window.find(`#id_nomer_beremennoy option[value="${id}"]`).prop('selected', true);#}
        {#    this.$window.jqxWindow('open');#}
        {# } #}

        {#open(id) {#}
        {#    let self = this;#}
        {#    if (id) {#}
        {#          SmenaJK_ID = id;#}
        {#        fetch(`/api/smenaJK/${id}`).then(function (response) {#}
        {#            if (response.ok) {#}
        {#                response.json().then(function (data) {#}
        {#                    self.$window.find('#id_nomer_beremennoy').val(data['nomer_beremennoy']);#}
                            {#если есть id - значит редачим. Если редачим значить есть url+id#}
        {#                   self.$window.jqxWindow('open');#}
        {#                    self.$window.jqxWindow('bringToFront');#}
                            {#если есть id - значит редачим. Если редачим значить есть url+id#}
        {#                    let url = '{% url 'konsultaciaya_lv' %}';#}
        {#                    $('.smena_jk').attr('action', `${url}${id}`);#}
        {#                }).catch(function () {#}
        {#                    $('.smena_jk').action(url)#}
        {#                    alert('Не могу получить JSON ');#}
        {#                })#}
        {##}
        {#            } else {#}
        {#                alert('Не могу получить данные');#}
        {#            }#}
        {#        })#}
        {##}
        {#    } else {#}
        {##}
        {#        let url = '{% url 'konsultaciaya_lv' %}';#}
        {#        $('.smena_jk').action(url)#}
        {#    }#}
        {##}
        {# } #}

        on_close() {
            let self = this;
            this.$window.on('close', function () {
                self.$btn_open_window.jqxToggleButton('toggled', false);
            });
        }

    }


    let $window_smenaJK = $('.window_smenaJK');
    let $tab_smenaJK = $('.tab_smenaJK');
    $(function () {
        new WindowSmenaJK($window_smenaJK, $tab_smenaJK, $btn_open_window_smenaJK)
    })

</script>