<style>
    .novaya_beremennaya .FixP {
        width: 55%;
    }


    .novaya_beremennaya .FixP label {
        width: auto;
    }

    .novaya_beremennaya .doptext {
        margin: 7px 5px 7px 0;
    }

    .novaya_beremennaya p {
        margin: 1px 0 1px 0;
        background-color: #dee0e2;
        float: left;
        width: 100%;
        display: inline-flex;
    }

    .novaya_beremennaya label {
        margin: 7px 5px 7px 0;
        width: 45%;
        float: left;
        text-align: right;
        height: auto;
    }

    .novaya_beremennaya select {
        margin: 4px 3px 4px 3px;
        width: 250px;
        outline: none;
        border: 1px solid transparent;
        border-radius: 4px;
    }

    .novaya_beremennaya input [type="text"] {
        width: 245px !important;
    }

    input[type="date" i] {
        width: 250px !important;
        margin: 4px 3px 4px 3px;
        outline: none;
        border: 1px solid transparent;
        border-radius: 4px
    }

    .novaya_beremennaya input[type="checkbox"] {
        width: 16px;
        height: 16px;
        margin: 7px 5px 7px 0;
        opacity: 1;
        background: -webkit-gradient(linear, 0 0, 0 100%, from(#f8f8f8), to(#eaeaea));
        color: #333333;
        text-shadow: 0 1px 1px rgb(255 255 255);
        border-radius: 4px;
        font-family: Verdana, Arial, sans-serif;
        border: 1px solid transparent;
        outline: none;
    }

    .novaya_beremennaya .save_beremennaya {
        position: relative;
        left: 39%;
        width: 10%;
        margin: 3px;
    }

    .novaya_beremennaya .pechat_beremennaya {
        position: absolute;
        right: 39%;
        width: 10%;
        margin: 3px;
        padding: 5px;
    }

    .novaya_beremennaya .default {
        margin: 1px 0 1px 0;
        background-color: #dee0e2;
        float: left;
        width: 100%;
        display: inline-flex;
    }


    .novaya_beremennaya .text {
        width: 45%;
        float: left;
        text-align: right;
        height: auto;
        margin: 7px 5px 7px 0;
    }

    .novaya_beremennaya .doptext {
        float: right;
        text-align: left;
        margin-left: 2px;
    }

    .novaya_beremennaya h3 {
        font-style: italic;
        text-align: center;
        margin: 0;
    }

</style>

<form enctype="multipart/form-data" class="novaya_beremennaya" id="novaya_beremennaya"
      action="{% url 'beremennaya_lv' %}" method="post">
    {% csrf_token %}

    {{ form.as_p }}

    <div class="default">
        <div class="text">Вредные привычки</div>
        <div class="FixP">{{ beremennaya_vrednie_privichki_form.as_p }}</div>
    </div>

    <div class="default">
        <div class="text">Вредные факторы труда и быта</div>
        <div class="FixP">{{ beremennaya_vrednie_factori_form.as_p }}</div>
    </div>


    <div class="default">
        {{ beremennaya_form.socialno_ugrojaemaya.label_tag }}
        {{ beremennaya_form.socialno_ugrojaemaya }}
        <div class="doptext">Да</div>
    </div>

    <div class="default">
        {{ beremennaya_form.semeynoe_polojenie.label_tag }}
        {{ beremennaya_form.semeynoe_polojenie }}
    </div>

    <div class="default">
        <div class="text">Соматические показатели</div>
        <div class="FixP">{{ beremennaya_somaticheskie_pokazateli_form.as_p }}</div>
    </div>

    <div class="default">
        {{ beremennaya_form.ves.label_tag }}
        {{ beremennaya_form.ves }}
    </div>

    <div class="default">
        {{ beremennaya_form.rost.label_tag }}
        {{ beremennaya_form.rost }}
    </div>

    <div class="default">
        {{ beremennaya_form.index.label_tag }}
        {{ beremennaya_form.index }}
    </div>

    <div class="default">
        <div class="text">Размеры таза (пельвиометрия),см</div>
        <div class="FixP">{{ beremennaya_razmer_taza_form.as_p }}</div>
    </div>

    <div class="default">
        {{ beremennaya_form.forma_sujeniya_taza.label_tag }}
        {{ beremennaya_form.forma_sujeniya_taza }}
    </div>

    <div class="default">
        {{ beremennaya_form.stepen_sujeniya_taza.label_tag }}
        {{ beremennaya_form.stepen_sujeniya_taza }}
    </div>

    <div class="default">
        {{ beremennaya_form.rezus_faktori_beremennoy_otca.label_tag }}
        {{ beremennaya_form.rezus_faktori_beremennoy_otca }}
    </div>

    <div class="default">
        {{ beremennaya_form.vzyata_pod_nabludenie.label_tag }}
        {{ beremennaya_form.vzyata_pod_nabludenie }}
    </div>

    <div class="default">
        {{ beremennaya_form.geneticheskie_faktori.label_tag }}
        {{ beremennaya_form.geneticheskie_faktori }}
    </div>

    <h3>Акушерско-гинекологический анамнез</h3>

    <div class="default">
        {{ beremennaya_form.menstrualnaya_funkciya.label_tag }}
        {{ beremennaya_form.menstrualnaya_funkciya }}
    </div>

    <div class="default">
        <div class="text">Заболевания внутренних половых органов</div>
        <div class="FixP">{{ beremennaya_zabolevanie_vnut_form.as_p }}</div>
    </div>

    <div class="default">
        {{ beremennaya_form.besplodie.label_tag }}
        {{ beremennaya_form.besplodie }}
    </div>

    <div class="default">
        {{ beremennaya_form.tip_besplodiya.label_tag }}
        {{ beremennaya_form.tip_besplodiya }}
    </div>

    <h3>Наступление текущей беременности</h3>

    <div class="default">
        {{ beremennaya_form.nastuplenie_beremennosti_v_rezultate_eco.label_tag }}
        {{ beremennaya_form.nastuplenie_beremennosti_v_rezultate_eco }}
    </div>

    <div class="default">
        {{ beremennaya_form.nastuplenie_beremennosti_v_rezultate_ovulyacii.label_tag }}
        {{ beremennaya_form.nastuplenie_beremennosti_v_rezultate_ovulyacii }}
        <div class="doptext">да</div>
    </div>

    <div class="default">
        {{ beremennaya_form.data_pervogo_dnya_posledney_menstruacii.label_tag }}
        {{ beremennaya_form.data_pervogo_dnya_posledney_menstruacii }}
    </div>

    <div class="default">
        {{ beremennaya_form.paritet_beremennosti.label_tag }}
        {{ beremennaya_form.paritet_beremennosti }}
    </div>

    <div class="default">
        {{ beremennaya_form.samoproizvolniy_abort.label_tag }}
        {{ beremennaya_form.samoproizvolniy_abort }}
    </div>

    <div class="default">
        {{ beremennaya_form.vnematochnaya_beremennost.label_tag }}
        {{ beremennaya_form.vnematochnaya_beremennost }}
        <div class="doptext">да</div>
    </div>

    <div class="default">
        {{ beremennaya_form.rezus_konfliktnaya_beremennost.label_tag }}
        {{ beremennaya_form.rezus_konfliktnaya_beremennost }}
        <div class="doptext">да</div>
    </div>

    <div class="default">
        {{ beremennaya_form.gemoliticheskaya_bolezn.label_tag }}
        {{ beremennaya_form.gemoliticheskaya_bolezn }}
        <div class="doptext">да</div>
    </div>

    <div class="default">

        {{ beremennaya_form.iskustvenniy_abort.label_tag }}
        <div class="FixP">
            {{ beremennaya_form.iskustvenniy_abort }}
            {{ beremennaya_form.iskustvenniy_abort_oslojneniya.label_tag }}
            {{ beremennaya_form.iskustvenniy_abort_oslojneniya }}
        </div>
    </div>

    <div class="default">
        <div class="text">Осложнения беременности (анамез)</div>
        <div class="FixP">{{ beremennayao_oslojneniya_beremennosti_form.as_p }}</div>
    </div>

    <div class="default">
        <div class="text">Осложнения родов (анамез)</div>
        <div class="FixP">{{ beremennayao_oslojneniya_rodov_form.as_p }}</div>
    </div>

    <div class="default">
        <div class="text">Новорожденный или плод(анамез)</div>
        <div class="FixP">{{ beremennayao_novorojdenniy_plod_form.as_p }}</div>
    </div>

    <h3>Экстрагенитальные заболевания</h3>

    <div class="default">
        <div class="text">Инфекционные болезни</div>
        <div class="FixP">{{ beremennaya_infekcionnie_bolezni_form.as_p }}</div>
    </div>

    <div class="default">
        <div class="text">Злокачественные новообразования</div>
        <div style="display: inherit;" class="FixP">
            {{ beremennaya_form.zlokachestvennie_obrazovaniya }}
            <div style="float: none"
                 class="zlokach">  {{ beremennaya_form.zlokachestvennie_obrazovaniya.label_tag }} </div>
        </div>
    </div>

    <div class="default">
        <div class="text">Болезни эндокринной системы</div>
        <div class="FixP">{{ beremennaya_bolezni_endokr_form.as_p }}</div>
    </div>

    <div class="default">
        <div class="text">Болезни крови и кроветворных органов</div>
        <div class="FixP">{{ beremennaya_bolezni_krovi_form.as_p }}</div>
    </div>

    <div class="default">
        <div class="text">Психические расстройства</div>
        <div class="FixP">{{ beremennaya_psih_rastroystva_form.as_p }}</div>
    </div>

    <div class="default">
        <div class="text">Болезни нервной системы и органов чувств</div>
        <div class="FixP">{{ beremennaya_bolezni_ns_form.as_p }}</div>
    </div>

    <div class="default">
        <div class="text">Болезни системы кровообращения</div>
        <div class="FixP">{{ beremennaya_bolezni_sistemi_krovoob_form.as_p }}</div>
    </div>

    <div class="default">
        <div class="text">Болезни органов дыхания</div>
        <div class="FixP">{{ beremennaya_bolezni_organov_dihaniya_form.as_p }}</div>
    </div>

    <div class="default">
        <div class="text">Болезни органов мочевыделения</div>
        <div class="FixP">{{ beremennaya_bolezni_organov_moch_form.as_p }}</div>
    </div>

    <div style="position: sticky; bottom: 0;" class="default block_s_knopkoi_save_beremennaya">
        {% if user.is_superuser %}
            <button class="save_beremennaya menubtn" type="submit">Сохранить</button> {% endif %}
        <button class="pechat_beremennaya menubtn" type="submit">Печать</button>
    </div>


</form>

<script>
    async function save_beremennaya(url, data) {
        let zapros = await fetch(url, {
            method: 'POST',
            body: JSON.stringify(data),
            headers: {
                'Content-Type': 'application/json;charset=utf-8'
            },
        });
        console.log('Статус ответа', zapros.status)
        alert('Данные сохранены');

    }

    $(function () {
        $('.novaya_beremennaya').submit(function (e) {
            e.preventDefault();
            let url = $(e.currentTarget).attr('action');
            let data = $(e.currentTarget).serialize();
            console.log(data);
            save_beremennaya(url, data);
        })
    });
</script>

